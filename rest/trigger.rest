### WhatsApp Trigger API Testing (Enhanced .a1 Report Function)
### Base URL: http://localhost:3001/api/trigger

@baseUrl = http://localhost:3001/api/trigger

### 1. Get trigger configuration and status (read-only)
GET {{baseUrl}}
Content-Type: application/json

### 2. Enable triggers globally (triggers are enabled by default)
POST {{baseUrl}}/status
Content-Type: application/json

{
  "enabled": true
}

### 3. Disable triggers globally
POST {{baseUrl}}/status
Content-Type: application/json

{
  "enabled": false
}

### 4. Test invalid status update (non-boolean)
POST {{baseUrl}}/status
Content-Type: application/json

{
  "enabled": "yes"
}

### 5. Test enhanced triggers via WhatsApp:
### Send these messages to your WhatsApp bot to test:
###
### A. Enhanced .a1 trigger (report function) - TEXT MESSAGES:
### - ".a1 laporan ada kerusakan plafond" ‚Üí Should respond with formatted report
### - ".a1 ada masalah di kantor" ‚Üí Should respond with formatted report
### - ".a1 kerusakan AC ruang meeting" ‚Üí Should respond with formatted report
### - ".a1" ‚Üí Should respond with usage instructions
###
### B. Enhanced .a1 trigger (report function) - MEDIA MESSAGES:
### - Send an IMAGE with caption ".a1 foto kerusakan plafond" ‚Üí Should respond with formatted report including "Tipe: Gambar"
### - Send a VIDEO with caption ".a1 video masalah AC" ‚Üí Should respond with formatted report including "Tipe: Video"
### - Send a DOCUMENT with caption ".a1 laporan lengkap kerusakan" ‚Üí Should respond with formatted report including "Tipe: Dokumen"
### - Send media without caption or with empty caption ‚Üí Should be ignored (no trigger response)
###
### C. Simple triggers:
### - ".help" ‚Üí Should respond with available commands (enhanced format)
### - ".ping" ‚Üí Should respond with "Pong! üèì"

### Note: Triggers are now hardcoded and cannot be modified via API
### Available hardcoded triggers:
### - .a1 <pesan> ‚Üí Creates formatted report with sender info, timestamp, and message
### - .help ‚Üí Shows available commands with enhanced formatting  
### - .ping ‚Üí Simple pong response
### 
### Enhanced .a1 trigger response format:
### üìã LAPORAN DITERIMA
###
### Pelapor: [WhatsApp Display Name]
### Nomor HP: [Phone Number from WhatsApp]
### Waktu: [Indonesian Timestamp - Asia/Jakarta timezone]
### Tipe: [Message Type - always shown: Teks/Gambar/Video/Dokumen/Audio/etc]
### Pesan: [Message content without .a1 prefix]
###
### Status: ‚úÖ Laporan telah diterima dan akan diproses
###
### Example usage:
### TEXT MESSAGE:
### Input: ".a1 laporan ada kerusakan plafond"
### Output: Formatted report with sender details, timestamp, and "Tipe: Teks"
###
### MEDIA MESSAGE:
### Input: Image with caption ".a1 foto kerusakan plafond"
### Output: Formatted report with sender details, timestamp, and "Tipe: Gambar"
###
### USAGE HELP:
### Input: ".a1"
### Output: "Format: .a1 <pesan laporan>\nContoh: .a1 laporan ada kerusakan plafond"
### 
### Triggers are enabled by default when server starts
### Only global enable/disable functionality is available via API
### Function-based triggers (.a1) process message content dynamically